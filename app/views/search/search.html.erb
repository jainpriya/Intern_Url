<h1>Elastic search for urls</h1>

<%= form_with url: search_path, method: :get,local:true  do |form| %>
   <p>
    <%= form.select :field, ['long_url', 'short_url']%>
    <%= text_field_tag :term %>
    <%= submit_tag "Search" %>
  </p>
<% end %>
  <% if @urls.empty? %>
    <h2>No urls found matching your query.</h2>
  <% else %>
    <h2>Search results</h2>

    <table style="width: 100%;">
      <thead>
         <tr>
           <th>Long_Url</th>
           <th>Short_Url</th>
         </tr>
      </thead>

      <body>
        <% @urls.each do |url| %>
          <tr>
            <td><%= link_to 'https://'+url.long_url, 'https://'+url.long_url %></td>
            <td><%= link_to 'https://'+url.short_url, 'https://'+url.long_url %></td>
          </tr>
          
        <% end %>
      <tbody>
    </table>
  <% end %>



